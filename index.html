<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLIP - Galería de Arte</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="nav">
        <div class="logo" onclick="location.reload()" style="cursor:pointer">BLIP</div>
        <div class="nav-buttons">
            <button id="btnParaTi">Para Ti</button>
            <button id="btnMiPerfil">Mi Perfil</button>
            <button id="btnOpenUpload" style="display:none; background:#7b5cff;">Subir Arte</button>
            <button id="btnLogin">Entrar</button>
        </div>
    </header>

    <main id="app-container">
        <!-- Perfil Header (se muestra cuando se abre un perfil) -->
        <div id="profile-header" class="profile-header" style="display:none;">
            <button onclick="cerrarPerfil()" class="back-btn">← Volver</button>
            <div class="profile-info">
                <h2 id="profile-name">@usuario</h2>
                <p id="profile-bio">Cargando biografía...</p>
                <div class="profile-stats">
                    <span id="profile-stats-posts"><b>0</b> Publicaciones</span>
                    <span id="profile-stats-followers"><b>0</b> Seguidores</span>
                </div>
                <button id="btnFollow" style="display:none;">Seguir</button>
            </div>
        </div>

        <!-- Feed principal -->
        <div id="feed" class="grid"></div>
    </main>

    <!-- Modal Subir -->
    <div id="modalUpload" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Nueva Obra</h3>
            <input type="file" id="fileInput" accept="image/*">
            <input type="text" id="postTitle" placeholder="Título de la obra">
            <button id="btnDoUpload">Publicar</button>
            <button onclick="document.getElementById('modalUpload').style.display='none'">Cancelar</button>
        </div>
    </div>

    <!-- Modal Login -->
    <div id="modalAuth" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Acceso para Artistas</h3>
            <input type="email" id="email" placeholder="Email">
            <input type="password" id="pass" placeholder="Contraseña">
            <button id="btnDoAuth">Iniciar / Registrarse</button>
            <button onclick="document.getElementById('modalAuth').style.display='none'">Cerrar</button>
        </div>
    </div>

    <script type="module" src="app.js"></script>
<!-- ... todo tu HTML anterior ... -->

<!-- Modal Upload y Modal Auth aquí -->

<script type="module">
  // Espera a que TODO el HTML esté listo
  document.addEventListener('DOMContentLoaded', () => {
    import('./app.js').then(module => {
      // Tu app.js ya se ejecuta aquí, con todos los elementos disponibles
      console.log('app.js cargado correctamente después del DOM');
    }).catch(err => {
      console.error('Error importando app.js:', err);
    });
  });
</script>
</body>
</html>

